# -*- encoding: UTF-8 -*-
import argparse
from naoqi import ALProxy
import time
from MusicPlay import *
class Dance:
    robotIP=""
    def __init__(self,robotipadd):

        self.robotIP = robotipadd

    def StarDance(self):
        motionProxy = ALProxy("ALMotion", self.robotIP, 9559)

        motionProxy.wakeUp()

        names = ["LShoulderPitch", "LShoulderRoll", "LElbowYaw", "LElbowRoll", "LWristYaw", "RShoulderPitch", "RShoulderRoll", "RElbowYaw", "RElbowRoll", "RWristYaw", "LHipPitch", "LHipRoll", "LKneePitch", "LAnklePitch", "LAnkleRoll", "RHipPitch", "RHipRoll", "RKneePitch", "RAnklePitch", "RAnkleRoll", "HeadYaw", "HeadPitch", "LHipYawPitch", "RHipYawPitch"]
        # 手臂动作
        angles = [-0.010779857635498047, 0.5874800682067871, -1.0063457489013672, -0.4279439449310303, 1.2118180990219116, -0.007627964019775391, -0.527738094329834, 1.0492141246795654, 0.48018407821655273, -0.7210218906402588, 0.1304318904876709, 0.09975194931030273, -0.08901405334472656, 0.09046411514282227, -0.1288139820098877, 0.12999999523162842, -0.10000000149011612, -0.09000000357627869, 0.09000000357627869, 0.12999999523162842, 0.0, -0.17000000178813934, -0.17023205757141113, -0.17023205757141113]

        angles1 = [0.0858621597290039, 0.1978440284729004, -1.0078802108764648, -0.21932005882263184, 1.6566780805587769, 0.13810205459594727, -0.17031598091125488, 0.8160459995269775, 0.2654240131378174, -1.1229300498962402, 0.1304318904876709, 0.09975194931030273, -0.08901405334472656, 0.09046411514282227, -0.1288139820098877, 0.07512402534484863, -0.09813404083251953, -0.09232791513204575, 0.11816000938415527, 0.12889790534973145, 0.0, -0.17000000178813934, -0.17023205757141113, -0.17023205757141113]

        angles2 = [0.4893040657043457, -0.11202406883239746, -0.7777800559997559, -0.43868207931518555, 1.0231361389160156, 0.5001258850097656, 0.04904603958129883, 0.5936160087585449, 0.5507478713989258, -0.8836259841918945, 0.12999999523162842, 0.10000000149011612, -0.09000000357627869, 0.09000000357627869, -0.12999999523162842, 0.12999999523162842, -0.10000000149011612, -0.09000000357627869, 0.09000000357627869, 0.12999999523162842, -0.004643917083740234, -0.18872404098510742, -0.17000000178813934, -0.17000000178813934]

        angles3 = [-0.2654240131378174, 0.3543119430541992, -0.8099939823150635, -0.1487560272216797, 1.3238000869750977, -0.2668740749359131, -0.3636000156402588, 0.9479701519012451, 0.35439586639404297, -1.4420018196105957, 0.12999999523162842, 0.10000000149011612, -0.09000000357627869, 0.09000000357627869, -0.12999999523162842, 0.12999999523162842, -0.10000000149011612, -0.09000000357627869, 0.09000000357627869, 0.12999999523162842, -0.004643917083740234, -0.18872404098510742, -0.17000000178813934, -0.17000000178813934]

        angles4 = [-0.3497939109802246, 0.7255401611328125, -0.8636841773986816, -0.4049339294433594, 1.8238691091537476, -0.3941960334777832, -0.7777800559997559, 0.7439479827880859, 0.20713186264038086, -1.8238691091537476, 0.17184996604919434, -0.01683211326599121, -0.09232791513204575, 0.06898808479309082, -0.10426998138427734, 0.13341593742370605, -0.4141380786895752, -0.09232791513204575, 0.07520794868469238, 0.3467259407043457, -0.004643917083740234, -0.18872404098510742, -0.1840381622314453, -0.1840381622314453]

        angles5 = [0.16716408729553223, 0.08739614486694336, -1.2533202171325684, -0.07972598075866699, 1.8238691091537476, 0.21173405647277832, -0.2915019989013672, 0.7546861171722412, 0.15497589111328125, -0.5890979766845703, 0.17184996604919434, -0.01683211326599121, -0.09232791513204575, 0.06898808479309082, -0.10426998138427734, 0.1318819522857666, -0.4141380786895752, -0.09232791513204575, 0.06600403785705566, 0.3467259407043457, -0.004643917083740234, -0.18872404098510742, -0.1840381622314453, -0.1840381622314453]

        angles6 = [-0.04606199264526367, 0.4632260799407959, -1.5616540908813477, -0.28067994117736816, -0.30223989486694336, 0.1733839511871338, -0.5737578868865967, 1.2240900993347168, 0.3037738800048828, 1.0185341835021973, 0.06600403785705566, 0.4096200466156006, -0.09232791513204575, 0.14262008666992188, -0.3420400619506836, 0.13341593742370605, -0.047512054443359375, -0.09232791513204575, 0.08748006820678711, 0.17798590660095215, -0.004643917083740234, -0.18872404098510742, -0.16256213188171387, -0.16256213188171387]
        angles7 = [-1.5877318382263184, 0.4693620204925537, -0.902033805847168, -0.038308143615722656, 0.5429940223693848, -1.5477640628814697, -0.23321008682250977, 0.3451080322265625, 0.9480538368225098, -0.27922987937927246, 0.029187917709350586, 0.5461459159851074, -0.09054803848266602, 0.13801813125610352, -0.3977605402469635, 0.14722204208374023, -0.04444408416748047, -0.09232791513204575, 0.08748006820678711, 0.23014187812805176, -0.015382051467895508, -0.20406389236450195, -0.10426998138427734, -0.10426998138427734]
        angles8 = [-1.3837099075317383, 0.06285214424133301, -0.4847860336303711, -0.7761621475219727, 0.5629360675811768, -1.5554341077804565, -0.6734678745269775, 0.45095396041870117, 0.052197933197021484, -0.30223989486694336, 0.17184996604919434, 0.09668397903442383, -0.09232791513204575, 0.11347413063049316, -0.19937801361083984, 0.15335798263549805, -0.4310121536254883, -0.09232791513204575, 0.11816000938415527, 0.3728039264678955, -0.02151799201965332, -0.18719005584716797, -0.17176604270935059, -0.17176604270935059]

        angles9 = [0.0030260086059570312, 0.05518198013305664, -0.29610395431518555, -0.6273641586303711, 0.39573001861572266, -0.20858192443847656, -0.5369420051574707, 0.45555615425109863, 0.05526590347290039, -0.3436579704284668, 0.17184996604919434, 0.09668397903442383, -0.09232791513204575, 0.11347413063049316, -0.19937801361083984, 0.15335798263549805, -0.4310121536254883, -0.09232791513204575, 0.11816000938415527, 0.3728039264678955, -0.5338740348815918, -0.2316758632659912, -0.17176604270935059, -0.17176604270935059]
        angles10 = [-0.774712085723877, 0.022968053817749023, -0.32218194007873535, -0.2239220142364502, 0.038308143615722656, 0.5308060646057129, -0.3758718967437744, 0.477031946182251, 0.05066394805908203, -0.2915019989013672, 0.17184996604919434, 0.09668397903442383, -0.09232791513204575, 0.11347413063049316, -0.19937801361083984, 0.15335798263549805, -0.4310121536254883, -0.09232791513204575, 0.11816000938415527, 0.3728039264678955, -0.5338740348815918, -0.2316758632659912, -0.17176604270935059, -0.17176604270935059]
        angles11 = [0.20244598388671875, -0.2316758632659912, -0.32524991035461426, -0.07819199562072754, 0.17330002784729004, -0.7194039821624756, -0.36206603050231934, 0.46476006507873535, 0.04452800750732422, -0.6213119029998779, 0.17184996604919434, 0.12582993507385254, -0.09208202362060547, 0.11347413063049316, -0.21625208854675293, 0.15335798263549805, -0.4310121536254883, -0.09232791513204575, 0.11816000938415527, 0.3728039264678955, -0.5338740348815918, -0.2316758632659912, -0.17176604270935059, -0.17176604270935059]
        angles12 = [-0.4418339729309082, 0.37885594367980957, 1.610658049583435, -0.07972598075866699, -1.5892658233642578, 0.5415439605712891, 0.3141592741012573, 0.5920820236206055, 0.21480202674865723, -0.4126880168914795, 0.17184996604919434, 0.48325204849243164, -0.09208202362060547, 0.1349501609802246, -0.3941960334777832, 0.2438640594482422, -0.16563010215759277, -0.09232791513204575, 0.08901405334472656, 0.2838320732116699, 0.48163414001464844, -0.09821796417236328, -0.13034796714782715, -0.13034796714782715]
        angles13 = [0.4463520050048828, 0.34664201736450195, 1.610658049583435, -0.04904603958129883, -1.756472110748291, -0.5276541709899902, 0.08893013000488281, 0.6933259963989258, 0.2286078929901123, -0.337522029876709, 0.17184996604919434, 0.48325204849243164, -0.09208202362060547, 0.1349501609802246, -0.3941960334777832, 0.2438640594482422, -0.16563010215759277, -0.09232791513204575, 0.08901405334472656, 0.2838320732116699, 0.3742539882659912, -0.09361600875854492, -0.13034796714782715, -0.13034796714782715]

        angles14 = [0.3021559715270996, 0.6273641586303711, 0.6258301734924316, -0.3052239418029785, -0.9587922096252441, 0.7072160243988037, -0.6427879333496094, 0.8467259407043457, 0.5921659469604492, -0.6550600528717041, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, -0.01691603660583496, -0.1043539047241211, -0.17330002784729004, -0.17330002784729004]

        angles15 = [1.0016601085662842, 0.4371480941772461, -0.8989658355712891, -1.1842060089111328, -0.2945699691772461, 1.3070101737976074, -0.5538160800933838, 1.1734681129455566, 1.469614028930664, 0.0858621597290039, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, -0.01691603660583496, -0.1043539047241211, -0.17330002784729004, -0.17330002784729004]
        angles16 = [1.0016601085662842, 0.4371480941772461, -0.8989658355712891, -1.1842060089111328, -0.2945699691772461, 0.7977218627929688, -0.40041589736938477, 1.0630199909210205, 1.239513874053955, 1.2378960847854614, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, -0.14883995056152344, 0.32056403160095215, -0.17330002784729004, -0.17330002784729004]
        angles17 = [1.1029040813446045, 0.15642595291137695, -0.8621501922607422, -1.3544800281524658, -0.30223989486694336, 0.3114440441131592, -0.7961878776550293, 1.213352084159851, 1.0937838554382324, 1.2409640550613403, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, -0.561486005783081, 0.024502038955688477, -0.17330002784729004, -0.17330002784729004]
        angles18 = [1.1197781562805176, -0.09821796417236328, -0.771643877029419, -1.5201520919799805, -0.4587080478668213, -0.3251659870147705, -1.1275320053100586, 1.2471001148223877, 0.7470998764038086, 1.2639740705490112, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, -1.018618106842041, -0.44908607006073, -0.17330002784729004, -0.17330002784729004]
        angles19 = [0.4172060489654541, 0.5491299629211426, -1.5831298828125, -0.9188239574432373, -0.6857399940490723, 1.035491943359375, -0.023051977157592773, 1.0323400497436523, 1.5446163415908813, 0.34664201736450195, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, 0.5322561264038086, -0.1365680694580078, -0.17330002784729004, -0.17330002784729004]
        angles20 = [-0.5338740348815918, 0.5890140533447266, -1.619946002960205, -0.40646815299987793, -0.8360719680786133, 1.0032777786254883, 0.3141592741012573, 0.7055981159210205, 1.5446163415908813, 0.7623560428619385, 0.17184996604919434, 0.32831788063049316, -0.08901405334472656, 0.1088719367980957, -0.3313021659851074, 0.23619413375854492, -0.32056403160095215, -0.09232791513204575, 0.033789873123168945, 0.3605320453643799, 0.8467259407043457, -0.5060315132141113, -0.17330002784729004, -0.17330002784729004]
    #    angles21 =
    #    angles22 =
     #   angles23 =
     #   angles24 =

        nplay = MusicPlay(self.robotIP)
        nplay.start()

        isEnable = True
        supportLeg = "Legs"
        motionProxy.wbEnableBalanceConstraint(isEnable, supportLeg)

        n = 0
        while n < 1:  # 手部动作
            n = n + 1
            motionProxy.setAngles(names, angles, 0.06)
            time.sleep(0.6)
            motionProxy.setAngles(names, angles1, 0.06)
            time.sleep(0.6)
            motionProxy.setAngles(names, angles2, 0.06)
            time.sleep(0.9)
            motionProxy.setAngles(names, angles3, 0.06)
            time.sleep(1.6)
        motionProxy.setAngles(names, angles, 0.06)
        time.sleep(0.6)
        motionProxy.setAngles(names, angles1, 0.06)
        time.sleep(0.6)
        motionProxy.setAngles(names, angles2, 0.06)
        time.sleep(1.6)

        while n < 4:  #扭腰
            n = n +1
            commandAngles = motionProxy.setAngles(names, angles4, 0.1)  # 扭腰
            time.sleep(0.7)
            commandAngles = motionProxy.setAngles(names, angles5, 0.1)
            time.sleep(0.7)
            commandAngles = motionProxy.setAngles(names, angles6, 0.1)
            time.sleep(1.2)
        commandAngles = motionProxy.setAngles(names, angles4, 0.1)
        time.sleep(0.7)
        commandAngles = motionProxy.setAngles(names, angles5, 0.1)
        time.sleep(0.7)
        motionProxy.post.openHand(["RHand", "LHand"])
        while n < 9:  # 挥手
            n = n + 1
            commandAngles = motionProxy.setAngles(names, angles7, 0.17)
            time.sleep(1.1)
            commandAngles = motionProxy.setAngles(names, angles8, 0.13)
            time.sleep(1.1)
        motionProxy.post.closeHand(["RHand", "LHand"])

    # 摇手
        motionProxy.setAngles(names, angles9, 0.18)
        time.sleep(1)
        motionProxy.setAngles(names, angles10, 0.18)
        time.sleep(0.9)
        motionProxy.setAngles(names, angles11, 0.18)
        time.sleep(1)
        motionProxy.setAngles(names, angles12, 0.18)
        time.sleep(1)
        motionProxy.setAngles(names, angles13, 0.18)
        time.sleep(1)
        motionProxy.setAngles(names, angles14, 0.18)
        time.sleep(0.9)

        motionProxy.setAngles(names, angles15, 0.18)
        time.sleep(0.6)
        #  摆手动作

        motionProxy.setAngles(names, angles16, 0.18)
        time.sleep(0.5)
        motionProxy.setAngles(names, angles17, 0.12)
        time.sleep(0.3)
        motionProxy.setAngles(names, angles18, 0.12)
        time.sleep(1.3)
        motionProxy.setAngles(names, angles17, 0.12)
        time.sleep(0.4)
        motionProxy.setAngles(names, angles16, 0.12)
        time.sleep(0.3)
        motionProxy.setAngles(names, angles15, 0.12)
        time.sleep(0.4)
        motionProxy.setAngles(names, angles19, 0.12)
        time.sleep(0.4)
        motionProxy.setAngles(names, angles20, 0.12)
        time.sleep(1.5)
        motionProxy.setAngles(names, angles19, 0.12)
        time.sleep(0.4)
        motionProxy.setAngles(names, angles15, 0.12)
        time.sleep(0.7)
    #    motionProxy.setAngles(names, angles21, 0.15)
     #   time.sleep(0.6)
     #   motionProxy.setAngles(names, angles22, 0.14)
     #   time.sleep(0.6)
      #  motionProxy.setAngles(names, angles23, 0.14)
      #  time.sleep(1)